<div align="center">
 ğŸ‘‹ å¤§å®¶å¥½! 
    verl æ˜¯ç”±<b>å­—èŠ‚è·³åŠ¨ç§å­å›¢é˜Ÿ</b>å‘èµ·å¹¶ç”± verl ç¤¾åŒºç»´æŠ¤çš„å¼ºåŒ–å­¦ä¹ è®­ç»ƒåº“ã€‚
    <br>
    <br>
</div>

<div align="center">

[<img src="https://devin.ai/assets/deepwiki-badge.png" alt="Ask DeepWiki.com" height="20"/>](https://deepwiki.com/volcengine/verl)
[![GitHub Repo stars](https://img.shields.io/github/stars/volcengine/verl)](https://github.com/volcengine/verl/stargazers)
[![Twitter](https://img.shields.io/twitter/follow/verl_project)](https://twitter.com/verl_project)
<a href="https://join.slack.com/t/verlgroup/shared_invite/zt-2w5p9o4c3-yy0x2Q56s_VlGLsJ93A6vA"><img src="https://img.shields.io/badge/Slack-verl-blueviolet?logo=slack&amp"></a>
<a href="https://arxiv.org/pdf/2409.19256"><img src="https://img.shields.io/static/v1?label=EuroSys&message=Paper&color=red"></a>
[![Documentation](https://img.shields.io/badge/documentation-blue)](https://verl.readthedocs.io/en/latest/)
<a href="https://raw.githubusercontent.com/eric-haibin-lin/verl-community/refs/heads/main/WeChat.JPG"><img src="https://img.shields.io/badge/å¾®ä¿¡-green?logo=wechat&amp"></a>

</div>

![seed logo](https://github.com/user-attachments/assets/c42e675e-497c-4508-8bb9-093ad4d1f216)

<h1 style="text-align: center;">verl: ç«å±±å¼•æ“å¤§è¯­è¨€æ¨¡å‹å¼ºåŒ–å­¦ä¹ æ¡†æ¶</h1>

verl æ˜¯ä¸€ä¸ªä¸ºå¤§è¯­è¨€æ¨¡å‹(LLMs)è®¾è®¡çš„çµæ´»ã€é«˜æ•ˆä¸”ç”Ÿäº§å°±ç»ªçš„å¼ºåŒ–å­¦ä¹ è®­ç»ƒåº“ã€‚

verl æ˜¯ **[HybridFlow: A Flexible and Efficient RLHF Framework](https://arxiv.org/abs/2409.19256v2)** è®ºæ–‡çš„å¼€æºç‰ˆæœ¬ã€‚

verl å…·æœ‰çµæ´»æ˜“ç”¨çš„ç‰¹ç‚¹ï¼š

- **å¤šæ ·åŒ–RLç®—æ³•çš„è½»æ¾æ‰©å±•**: æ··åˆæ§åˆ¶å™¨ç¼–ç¨‹æ¨¡å‹æ”¯æŒå¤æ‚åè®­ç»ƒæ•°æ®æµçš„çµæ´»è¡¨ç¤ºå’Œé«˜æ•ˆæ‰§è¡Œã€‚ä»…éœ€å‡ è¡Œä»£ç å³å¯æ„å»º GRPOã€PPO ç­‰RLæ•°æ®æµã€‚

- **æ¨¡å—åŒ–APIä¸ç°æœ‰LLMåŸºç¡€è®¾æ–½çš„æ— ç¼é›†æˆ**: è§£è€¦è®¡ç®—å’Œæ•°æ®ä¾èµ–ï¼Œå®ç°ä¸ç°æœ‰LLMæ¡†æ¶çš„æ— ç¼é›†æˆï¼Œå¦‚ FSDPã€Megatron-LMã€vLLMã€SGLang ç­‰ã€‚

- **çµæ´»çš„è®¾å¤‡æ˜ å°„**: æ”¯æŒå°†æ¨¡å‹çµæ´»éƒ¨ç½²åˆ°ä¸åŒçš„GPUé›†åˆä¸Šï¼Œä»¥å®ç°é«˜æ•ˆçš„èµ„æºåˆ©ç”¨å’Œè·¨ä¸åŒé›†ç¾¤è§„æ¨¡çš„å¯æ‰©å±•æ€§ã€‚

- ä¸æµè¡Œçš„ HuggingFace æ¨¡å‹çš„å³æ’å³ç”¨é›†æˆ

verl å…·æœ‰é«˜æ€§èƒ½ç‰¹ç‚¹ï¼š

- **æœ€å…ˆè¿›çš„ååé‡**: é›†æˆäº†æœ€å…ˆè¿›çš„LLMè®­ç»ƒå’Œæ¨ç†å¼•æ“ï¼Œå®ç°äº†æœ€é«˜çš„RLååé‡ã€‚

- **3D-HybridEngineé«˜æ•ˆçš„Actoræ¨¡å‹é‡åˆ†ç‰‡**: æ¶ˆé™¤å†…å­˜å†—ä½™ï¼Œæ˜¾è‘—å‡å°‘è®­ç»ƒå’Œç”Ÿæˆé˜¶æ®µè½¬æ¢æœŸé—´çš„é€šä¿¡å¼€é”€ã€‚

## æ–°é—»

- [2025/06] åŸºäº Megatron åç«¯çš„ verl æ”¯æŒå¤§å‹ MoE æ¨¡å‹ï¼Œå¦‚ [DeepSeek-671b å’Œ Qwen3-236b](https://verl.readthedocs.io/en/latest/perf/dpsk.html)ã€‚
- [2025/06] verl å›¢é˜Ÿå°†åœ¨6æœˆ7æ—¥çš„ [PyTorch Day China](https://www.lfasiallc.com/pytorch-day-china/) æä¾›æœ€æ–°é¡¹ç›®æ›´æ–°ã€‚æ¬¢è¿åœ¨åŒ—äº¬ä¸æˆ‘ä»¬çš„å¼€å‘å›¢é˜Ÿè§é¢ï¼
- [2025/05] [PF-PPO](https://arxiv.org/abs/2409.06957)ï¼Œè¢« ICML 2025 æ¥æ”¶ï¼Œç°å·²åœ¨ verl ä¸­æ”¯æŒï¼PF-PPO é€šè¿‡è¿‡æ»¤æ½œåœ¨å™ªå£°å¥–åŠ±ä¿¡å·å¹¶é€šè¿‡é‡æ”¾ç¼“å†²åŒºé‡ç”¨é«˜è´¨é‡ç»éªŒæ¥å¢å¼ºç­–ç•¥å­¦ä¹ æ•ˆç‡å’Œé²æ£’æ€§ã€‚
- [2025/04] **verl-ascend** ç‰ˆæœ¬æ”¯æŒåä¸ºæ˜‡è…¾NPUï¼Œä¸ºå›½äº§ç®—åŠ›ç”Ÿæ€æä¾›å¼ºåŒ–å­¦ä¹ è®­ç»ƒæ”¯æŒã€‚

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/VocabVictor/verl-ascend.git
cd verl-ascend

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£… verl
pip install -e .
```

### åä¸ºæ˜‡è…¾NPUæ”¯æŒ

æœ¬ç‰ˆæœ¬ç‰¹åˆ«æ”¯æŒåä¸ºæ˜‡è…¾NPUï¼Œä¸ºå›½äº§ç®—åŠ›ç”Ÿæ€æä¾›å¼ºåŒ–å­¦ä¹ è®­ç»ƒèƒ½åŠ›ï¼š

```bash
# å®‰è£…æ˜‡è…¾NPUä¾èµ–
pip install -r requirements-npu.txt
```

### åŸºç¡€ä½¿ç”¨ç¤ºä¾‹

```python
# PPOè®­ç»ƒç¤ºä¾‹
python examples/ppo_trainer/run_qwen2-7b_rm.sh

# GRPOè®­ç»ƒç¤ºä¾‹  
python examples/grpo_trainer/run_qwen2-7b.sh

# å¤šæ¨¡æ€è®­ç»ƒç¤ºä¾‹
python examples/grpo_trainer/run_qwen2_5_vl-7b.sh
```

## ä¸»è¦ç‰¹æ€§

### ğŸš€ å¤šç§å¼ºåŒ–å­¦ä¹ ç®—æ³•æ”¯æŒ
- **PPO (Proximal Policy Optimization)**: ç»å…¸çš„ç­–ç•¥ä¼˜åŒ–ç®—æ³•
- **GRPO (Group Relative Policy Optimization)**: ç¾¤ä½“ç›¸å¯¹ç­–ç•¥ä¼˜åŒ–
- **DPO (Direct Preference Optimization)**: ç›´æ¥åå¥½ä¼˜åŒ–
- **SPIN (Self-Play Fine-tuning)**: è‡ªå¯¹å¼ˆå¾®è°ƒ
- **SPPO (Self-Play Preference Optimization)**: è‡ªå¯¹å¼ˆåå¥½ä¼˜åŒ–

### ğŸ”§ çµæ´»çš„åç«¯æ”¯æŒ
- **è®­ç»ƒåç«¯**: FSDPã€Megatron-LM
- **æ¨ç†åç«¯**: vLLMã€SGLangã€HuggingFace Transformers
- **ç¡¬ä»¶æ”¯æŒ**: NVIDIA GPUã€åä¸ºæ˜‡è…¾NPU

### ğŸ“Š é«˜çº§åŠŸèƒ½
- **å¤šè½®å¯¹è¯è®­ç»ƒ**: æ”¯æŒå¤æ‚çš„å¤šè½®å¯¹è¯åœºæ™¯
- **å·¥å…·é›†æˆ**: æœç´¢å·¥å…·ã€ä»£ç æ‰§è¡Œå·¥å…·ã€æ•°å­¦å·¥å…·
- **å¤šæ¨¡æ€æ”¯æŒ**: è§†è§‰-è¯­è¨€æ¨¡å‹è®­ç»ƒ
- **åˆ†å¸ƒå¼è®­ç»ƒ**: æ”¯æŒå¤šæœºå¤šå¡è®­ç»ƒ

## ç®—æ³•ä»‹ç»

### PPO (Proximal Policy Optimization)
ç»å…¸çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œé€šè¿‡é™åˆ¶ç­–ç•¥æ›´æ–°å¹…åº¦æ¥ä¿è¯è®­ç»ƒç¨³å®šæ€§ã€‚

### GRPO (Group Relative Policy Optimization)  
ä¸€ç§æ–°çš„ç­–ç•¥ä¼˜åŒ–æ–¹æ³•ï¼Œé€šè¿‡ç¾¤ä½“ç›¸å¯¹æ¯”è¾ƒæ¥æå‡è®­ç»ƒæ•ˆæœã€‚

### DPO (Direct Preference Optimization)
ç›´æ¥ä¼˜åŒ–äººç±»åå¥½ï¼Œæ— éœ€æ˜¾å¼å¥–åŠ±æ¨¡å‹çš„ç®€åŒ–è®­ç»ƒæ–¹æ³•ã€‚

## ç¤ºä¾‹å’Œæ•™ç¨‹

### æ•°å­¦æ¨ç†ä»»åŠ¡
```bash
# GSM8Kæ•°å­¦æ¨ç†è®­ç»ƒ
cd examples/grpo_trainer
bash run_qwen2-7b_math.sh
```

### å¤šæ¨¡æ€è®­ç»ƒ
```bash
# è§†è§‰-è¯­è¨€æ¨¡å‹è®­ç»ƒ
cd examples/grpo_trainer  
bash run_qwen2_5_vl-7b.sh
```

### å¤šè½®å¯¹è¯
```bash
# å¤šè½®å¯¹è¯è®­ç»ƒ
cd examples/sglang_multiturn
bash run_qwen2.5-3b_gsm8k_multiturn.sh
```

## æ–‡æ¡£

å®Œæ•´æ–‡æ¡£è¯·è®¿é—®ï¼š[https://vocabvictor.github.io/verl-ascend/](https://vocabvictor.github.io/verl-ascend/)

åŒ…å«å†…å®¹ï¼š
- å®‰è£…æŒ‡å—
- å¿«é€Ÿå¼€å§‹æ•™ç¨‹  
- ç®—æ³•è¯¦è§£
- APIå‚è€ƒ
- é«˜çº§ç”¨æ³•
- æ€§èƒ½è°ƒä¼˜

## è´¡çŒ®

æ¬¢è¿ä¸º verl-ascend é¡¹ç›®è´¡çŒ®ä»£ç ï¼è¯·å‚è€ƒ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è´¡çŒ®æŒ‡å—ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache 2.0 è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æˆ‘ä»¬

- GitHub Issues: [https://github.com/VocabVictor/verl-ascend/issues](https://github.com/VocabVictor/verl-ascend/issues)
- åŸé¡¹ç›®: [https://github.com/volcengine/verl](https://github.com/volcengine/verl)

## è‡´è°¢

æ„Ÿè°¢å­—èŠ‚è·³åŠ¨ç§å­å›¢é˜Ÿå¼€æºåŸå§‹ verl é¡¹ç›®ï¼Œæœ¬é¡¹ç›®åŸºäºåŸé¡¹ç›®è¿›è¡Œåä¸ºæ˜‡è…¾NPUé€‚é…å’ŒåŠŸèƒ½æ‰©å±•ã€‚